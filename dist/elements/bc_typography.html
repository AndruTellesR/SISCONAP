<!DOCTYPE html>
<html lang="en">
<!-- [Head] start -->

<head>
  <title>Typography | Mantis Bootstrap 5 Admin Template</title>
  <!-- [Meta] -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Mantis is made using Bootstrap 5 design framework. Download the free admin template & use it for your project.">
  <meta name="keywords" content="Mantis, Dashboard UI Kit, Bootstrap 5, Admin Template, Admin Dashboard, CRM, CMS, Bootstrap Admin Template">
  <meta name="author" content="CodedThemes">

  <!-- [Favicon] icon -->
  <link rel="icon" href="../assets/images/favicon.svg" type="image/x-icon"> <!-- [Google Font] Family -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap" id="main-font-link">
<!-- [Tabler Icons] https://tablericons.com -->
<link rel="stylesheet" href="../../assets/fonts/tabler-icons.min.css" >
<!-- [Feather Icons] https://feathericons.com -->
<link rel="stylesheet" href="../../assets/fonts/feather.css" >
<!-- [Font Awesome Icons] https://fontawesome.com/icons -->
<link rel="stylesheet" href="../../assets/fonts/fontawesome.css" >
<!-- [Material Icons] https://fonts.google.com/icons -->
<link rel="stylesheet" href="../../assets/fonts/material.css" >
<!-- [Template CSS Files] -->
<link rel="stylesheet" href="../../assets/css/style.css" id="main-style-link" >
<link rel="stylesheet" href="../../assets/css/style-preset.css" >

</head>
<!-- [Head] end -->
<!-- [Body] Start -->

<body data-pc-preset="preset-1" data-pc-direction="ltr" data-pc-theme="light">
  <!-- [ Pre-loader ] start -->
<div class="loader-bg">
  <div class="loader-track">
    <div class="loader-fill"></div>
  </div>
</div>
<!-- [ Pre-loader ] End -->
 <!-- [ Sidebar Menu ] start -->
<nav class="pc-sidebar">
  <div class="navbar-wrapper">
    <div class="m-header">
      <a href="../dashboard/index.html" class="b-brand text-primary">
        <!-- ========   Change your logo from here   ============ -->
        <img src="../assets/images/logo-ap.webp" alt="AP System Logo" style="max-height: 60px; width: auto;">
      </a>
    </div>
    <div class="navbar-content">
      <li class="pc-item">
        <a href="../dashboard/index.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-layout-dashboard"></i></span>
          <span class="pc-mtext">Dashboard</span>
        </a>
      </li>

      <li class="pc-item pc-caption">
        <label>PRESUPUESTO</label>
        <i class="ti ti-dashboard"></i>
      </li>
      <li class="pc-item">
        <a href="../elements/bc_typography.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-typography"></i></span>
          <span class="pc-mtext">Presupuesto</span>
        </a>
      </li>
      <li class="pc-item">
        <a href="../elements/bc_color.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-color-swatch"></i></span>
          <span class="pc-mtext">Color</span>
        </a>
      </li>
      <li class="pc-item">
        <a href="../elements/icon-tabler.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-plant-2"></i></span>
          <span class="pc-mtext">Icons</span>
        </a>
      </li>

      <li class="pc-item pc-caption">
        <label>TESORERIA</label>
        <i class="ti ti-news"></i>
      </li>
      <li class="pc-item">
        <a href="../pages/login.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-lock"></i></span>
          <span class="pc-mtext">Login</span>
        </a>
      </li>
      <li class="pc-item">
        <a href="../pages/register.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-user-plus"></i></span>
          <span class="pc-mtext">Register</span>
        </a>
      </li>
      <li class="pc-item pc-caption">
        <label>CONTABILIDAD</label>
        <i class="ti ti-dashboard"></i>
      </li>
      <li class="pc-item">
        <a href="../contabilidad/contabilidad1.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-coin"></i></span>
          <span class="pc-mtext">Contabilidad 1</span>
        </a>
      </li>
      <li class="pc-item">
        <a href="../contabilidad/contabilidad2.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-coin"></i></span>
          <span class="pc-mtext">Contabilidad 2</span>
        </a>
      </li>
      <li class="pc-item">
        <a href="../contabilidad/contabilidad3.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-coin"></i></span>
          <span class="pc-mtext">Contabilidad 3</span>
        </a>
      </li> 
      <li class="pc-item pc-caption">
        <label>GESTION USUARIOS</label>
        <i class="ti ti-brand-chrome"></i>
      </li>

      <!-- <li class="pc-item pc-hasmenu">
        <a href="#!" class="pc-link">
          <span class="pc-micon"><i class="ti ti-menu"></i></span>
          <span class="pc-mtext">Menu levels</span>
          <span class="pc-arrow"><i data-feather="chevron-right"></i></span></a>
        <ul class="pc-submenu">
          <li class="pc-item"><a class="pc-link" href="#!">Level 2.1</a></li>
          <li class="pc-item pc-hasmenu">
            <a href="#!" class="pc-link">Level 2.2<span class="pc-arrow"><i data-feather="chevron-right"></i></span></a>
            <ul class="pc-submenu">
              <li class="pc-item"><a class="pc-link" href="#!">Level 3.1</a></li>
              <li class="pc-item"><a class="pc-link" href="#!">Level 3.2</a></li>
              <li class="pc-item pc-hasmenu">
                <a href="#!" class="pc-link">Level 3.3<span class="pc-arrow"><i data-feather="chevron-right"></i></span></a>
                <ul class="pc-submenu">
                  <li class="pc-item"><a class="pc-link" href="#!">Level 4.1</a></li>
                  <li class="pc-item"><a class="pc-link" href="#!">Level 4.2</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="pc-item pc-hasmenu">
            <a href="#!" class="pc-link">Level 2.3<span class="pc-arrow"><i data-feather="chevron-right"></i></span></a>
            <ul class="pc-submenu">
              <li class="pc-item"><a class="pc-link" href="#!">Level 3.1</a></li>
              <li class="pc-item"><a class="pc-link" href="#!">Level 3.2</a></li>
              <li class="pc-item pc-hasmenu">
                <a href="#!" class="pc-link">Level 3.3<span class="pc-arrow"><i data-feather="chevron-right"></i></span></a>
                <ul class="pc-submenu">
                  <li class="pc-item"><a class="pc-link" href="#!">Level 4.1</a></li>
                  <li class="pc-item"><a class="pc-link" href="#!">Level 4.2</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li> -->
      <li class="pc-item">
        <a href="../other/sample-page.html" class="pc-link">
          <span class="pc-micon"><i class="ti ti-brand-chrome"></i></span>
          <span class="pc-mtext">Gesti√≥n</span>
        </a>
      </li> 
    </div>
  </div>
</nav>
<!-- [ Sidebar Menu ] end --> <!-- [ Header Topbar ] start -->
<header class="pc-header">
  <div class="header-wrapper"> <!-- [Mobile Media Block] start -->
<div class="me-auto pc-mob-drp">
  <ul class="list-unstyled">
    <!-- ======= Menu collapse Icon ===== -->
    <li class="pc-h-item pc-sidebar-collapse">
      <a href="#" class="pc-head-link ms-0" id="sidebar-hide">
        <i class="ti ti-menu-2"></i>
      </a>
    </li>
    <li class="pc-h-item pc-sidebar-popup">
      <a href="#" class="pc-head-link ms-0" id="mobile-collapse">
        <i class="ti ti-menu-2"></i>
      </a>
    </li>
    <li class="dropdown pc-h-item d-inline-flex d-md-none">
      <a
        class="pc-head-link dropdown-toggle arrow-none m-0"
        data-bs-toggle="dropdown"
        href="#"
        role="button"
        aria-haspopup="false"
        aria-expanded="false"
      >
        <i class="ti ti-search"></i>
      </a>
      <div class="dropdown-menu pc-h-dropdown drp-search">
        <form class="px-3">
          <div class="form-group mb-0 d-flex align-items-center">
            <i data-feather="search"></i>
            <input type="search" class="form-control border-0 shadow-none" placeholder="Search here. . .">
          </div>
        </form>
      </div>
    </li>
    <li class="pc-h-item d-none d-md-inline-flex">
      <form class="header-search">
        <i data-feather="search" class="icon-search"></i>
        <input type="search" class="form-control" placeholder="Search here. . .">
      </form>
    </li>
  </ul>
</div>
<!-- [Mobile Media Block end] -->
<div class="ms-auto">
  <ul class="list-unstyled">
    <li class="dropdown pc-h-item">
      <a
        class="pc-head-link dropdown-toggle arrow-none me-0"
        data-bs-toggle="dropdown"
        href="#"
        role="button"
        aria-haspopup="false"
        aria-expanded="false"
      >
        <i class="ti ti-mail"></i>
      </a>
      <div class="dropdown-menu dropdown-notification dropdown-menu-end pc-h-dropdown">
        <div class="dropdown-header d-flex align-items-center justify-content-between">
          <h5 class="m-0">Message</h5>
          <a href="#!" class="pc-head-link bg-transparent"><i class="ti ti-x text-danger"></i></a>
        </div>
        <div class="dropdown-divider"></div>
        <div class="dropdown-header px-0 text-wrap header-notification-scroll position-relative" style="max-height: calc(100vh - 215px)">
          <div class="list-group list-group-flush w-100">
            <a class="list-group-item list-group-item-action">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img src="../assets/images/user/avatar-2.jpg" alt="user-image" class="user-avtar">
                </div>
                <div class="flex-grow-1 ms-1">
                  <span class="float-end text-muted">3:00 AM</span>
                  <p class="text-body mb-1">It's <b>Cristina danny's</b> birthday today.</p>
                  <span class="text-muted">2 min ago</span>
                </div>
              </div>
            </a>
            <a class="list-group-item list-group-item-action">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img src="../assets/images/user/avatar-1.jpg" alt="user-image" class="user-avtar">
                </div>
                <div class="flex-grow-1 ms-1">
                  <span class="float-end text-muted">6:00 PM</span>
                  <p class="text-body mb-1"><b>Aida Burg</b> commented your post.</p>
                  <span class="text-muted">5 August</span>
                </div>
              </div>
            </a>
            <a class="list-group-item list-group-item-action">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img src="../assets/images/user/avatar-3.jpg" alt="user-image" class="user-avtar">
                </div>
                <div class="flex-grow-1 ms-1">
                  <span class="float-end text-muted">2:45 PM</span>
                  <p class="text-body mb-1"><b>There was a failure to your setup.</b></p>
                  <span class="text-muted">7 hours ago</span>
                </div>
              </div>
            </a>
            <a class="list-group-item list-group-item-action">
              <div class="d-flex">
                <div class="flex-shrink-0">
                  <img src="../assets/images/user/avatar-4.jpg" alt="user-image" class="user-avtar">
                </div>
                <div class="flex-grow-1 ms-1">
                  <span class="float-end text-muted">9:10 PM</span>
                  <p class="text-body mb-1"><b>Cristina Danny </b> invited to join <b> Meeting.</b></p>
                  <span class="text-muted">Daily scrum meeting time</span>
                </div>
              </div>
            </a>
          </div>
        </div>
        <div class="dropdown-divider"></div>
        <div class="text-center py-2">
          <a href="#!" class="link-primary">View all</a>
        </div>
      </div>
    </li>
    <li class="dropdown pc-h-item header-user-profile">
      <a
        class="pc-head-link dropdown-toggle arrow-none me-0"
        data-bs-toggle="dropdown"
        href="#"
        role="button"
        aria-haspopup="false"
        data-bs-auto-close="outside"
        aria-expanded="false"
      >
        <img src="../assets/images/user/avatar-2.jpg" alt="user-image" class="user-avtar">
        <span>Stebin Ben</span>
      </a>
      <div class="dropdown-menu dropdown-user-profile dropdown-menu-end pc-h-dropdown">
        <div class="dropdown-header">
          <div class="d-flex mb-1">
            <div class="flex-shrink-0">
              <img src="../assets/images/user/avatar-2.jpg" alt="user-image" class="user-avtar wid-35">
            </div>
            <div class="flex-grow-1 ms-3">
              <h6 class="mb-1">Stebin Ben</h6>
              <span>UI/UX Designer</span>
            </div>
            <a href="#!" class="pc-head-link bg-transparent"><i class="ti ti-power text-danger"></i></a>
          </div>
        </div>
        <ul class="nav drp-tabs nav-fill nav-tabs" id="mydrpTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button
              class="nav-link active"
              id="drp-t1"
              data-bs-toggle="tab"
              data-bs-target="#drp-tab-1"
              type="button"
              role="tab"
              aria-controls="drp-tab-1"
              aria-selected="true"
              ><i class="ti ti-user"></i> Profile</button
            >
          </li>
          <li class="nav-item" role="presentation">
            <button
              class="nav-link"
              id="drp-t2"
              data-bs-toggle="tab"
              data-bs-target="#drp-tab-2"
              type="button"
              role="tab"
              aria-controls="drp-tab-2"
              aria-selected="false"
              ><i class="ti ti-settings"></i> Setting</button
            >
          </li>
        </ul>
        <div class="tab-content" id="mysrpTabContent">
          <div class="tab-pane fade show active" id="drp-tab-1" role="tabpanel" aria-labelledby="drp-t1" tabindex="0">
            <a href="#!" class="dropdown-item">
              <i class="ti ti-edit-circle"></i>
              <span>Edit Profile</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-user"></i>
              <span>View Profile</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-clipboard-list"></i>
              <span>Social Profile</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-wallet"></i>
              <span>Billing</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-power"></i>
              <span>Logout</span>
            </a>
          </div>
          <div class="tab-pane fade" id="drp-tab-2" role="tabpanel" aria-labelledby="drp-t2" tabindex="0">
            <a href="#!" class="dropdown-item">
              <i class="ti ti-help"></i>
              <span>Support</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-user"></i>
              <span>Account Settings</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-lock"></i>
              <span>Privacy Center</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-messages"></i>
              <span>Feedback</span>
            </a>
            <a href="#!" class="dropdown-item">
              <i class="ti ti-list"></i>
              <span>History</span>
            </a>
          </div>
        </div>
      </div>
    </li>
  </ul>
</div>
 </div>
</header>
<!-- [ Header ] end -->



  <!-- [ Main Content ] start -->
  <div class="pc-container">
    <div class="pc-content">
      <!-- [ breadcrumb ] start -->
      <!--
      <div class="page-header">
        <div class="page-block">
          <div class="row align-items-center">
            <div class="col-md-12">
              <div class="page-header-title">
                <h5 class="m-b-10">Typography</h5>
              </div>
              <ul class="breadcrumb">
                <li class="breadcrumb-item"><a href="../dashboard/index.html">Home</a></li>
                <li class="breadcrumb-item"><a href="javascript: void(0)">UI Components</a></li>
                <li class="breadcrumb-item" aria-current="page">Typography</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      -->
      <!-- [ breadcrumb ] end -->

      <!-- Tabs Nav start -->
      <ul class="nav nav-tabs mb-3" id="presupuestoTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="presupuesto-tab" data-bs-toggle="tab" data-bs-target="#presupuesto-tab-pane" type="button" role="tab" aria-controls="presupuesto-tab-pane" aria-selected="true">Presupuesto</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="rubros-tab" data-bs-toggle="tab" data-bs-target="#rubros-tab-pane" type="button" role="tab" aria-controls="rubros-tab-pane" aria-selected="false">Rubros</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="modificaciones-tab" data-bs-toggle="tab" data-bs-target="#modificaciones-tab-pane" type="button" role="tab" aria-controls="modificaciones-tab-pane" aria-selected="false">Modificaciones</button>
        </li>
      </ul>
      <!-- Tabs Nav end -->

      <!-- Tabs Content start -->
      <div class="tab-content" id="presupuestoTabsContent">
        <!-- Presupuesto Tab Pane start -->
        <div class="tab-pane fade show active" id="presupuesto-tab-pane" role="tabpanel" aria-labelledby="presupuesto-tab" tabindex="0">
          <div class="row">
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h3>Presupuesto</h3>
                </div>
                <div class="card-body">
                  <p>Aqu√≠ ir√° el contenido espec√≠fico para la pesta√±a Presupuesto.</p>
                  <!-- Contenido placeholder para Presupuesto -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Presupuesto Tab Pane end -->

        <!-- Rubros Tab Pane start -->
        <div class="tab-pane fade" id="rubros-tab-pane" role="tabpanel" aria-labelledby="rubros-tab" tabindex="0">
          <!-- [ Main Content ] start -->
          <div class="row">
            <!-- [ Typography ] start -->
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h3>Rubro</h3>
                  <p><span class="badges"></span> Aqui se podria agregar alguna descripcion para el rubro de ser necesaria</p>
                </div>
                <div class="card-body pc-component">
                  <!-- Mensaje de √©xito -->
                  <div id="alertRubroExito" class="alert alert-success d-none align-items-center gap-2" role="alert" style="display:flex;align-items:center;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="#198754" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up-right me-2"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg>
                    <span id="mensajeRubroExito">Rubro Creado Con √âxito</span>
                  </div>
                  <div class="mb-3 d-flex gap-2">
                    <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#modalRubroPrincipal">Crear Rubro Principal</button>
                    <button class="btn btn-secondary" type="button" data-bs-toggle="modal" data-bs-target="#modalRubroAuxiliar">Crear Rubro Auxiliar</button>
                  </div>
                  <!-- Modal Rubro Principal -->
                  <div class="modal fade" id="modalRubroPrincipal" tabindex="-1" aria-labelledby="modalRubroPrincipalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="modalRubroPrincipalLabel">Crear Rubro Principal</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <form id="formRubroPrincipal">
                            <div class="mb-3">
                              <label for="codigoPrincipal" class="form-label">C√≥digo</label>
                              <input type="text" class="form-control" id="codigoPrincipal" maxlength="4" pattern="\\d{4}" title="Debe ser un c√≥digo de 4 d√≠gitos" placeholder="Ej: 2112" required>
                            </div>
                            <div class="mb-3">
                              <label for="descripcionPrincipal" class="form-label">Descripci√≥n</label>
                              <input type="text" class="form-control" id="descripcionPrincipal" placeholder="Descripci√≥n del rubro principal">
                            </div>
                            <div class="mb-3">
                              <label for="tipoPrincipal" class="form-label">Tipo</label>
                              <select class="form-select" id="tipoPrincipal">
                                <option value="P. Ingreso">P. Ingreso</option>
                                <option value="P. Gasto">P. Gasto</option>
                              </select>
                            </div>
                            <div class="mb-3">
                              <label for="valorPrincipal" class="form-label">Valor asignado (calculado)</label>
                              <input type="text" class="form-control" id="valorPrincipal" readonly placeholder="Suma de auxiliares">
                            </div>
                          </form>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                          <button type="button" class="btn btn-primary" id="guardarPrincipal">Guardar</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal Rubro Auxiliar -->
                  <div class="modal fade" id="modalRubroAuxiliar" tabindex="-1" aria-labelledby="modalRubroAuxiliarLabel" aria-hidden="true">
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="modalRubroAuxiliarLabel">Crear Rubro Auxiliar</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <form id="formRubroAuxiliar">
                            <div class="mb-3">
                              <label for="codigoAuxiliar" class="form-label">C√≥digo</label>
                              <input type="text" class="form-control" id="codigoAuxiliar" placeholder="Ej: 2111-01" required>
                            </div>
                            <div class="mb-3">
                              <label for="descripcionAuxiliar" class="form-label">Descripci√≥n</label>
                              <input type="text" class="form-control" id="descripcionAuxiliar" placeholder="Descripci√≥n del rubro auxiliar" required>
                            </div>
                            <div class="mb-3">
                              <label for="tipoAuxiliar" class="form-label">Tipo</label>
                              <select class="form-select" id="tipoAuxiliar">
                                <option value="P. Ingreso">P. Ingreso</option>
                                <option value="P. Gasto">P. Gasto</option>
                              </select>
                            </div>
                            <div class="mb-3">
                              <label for="valorAuxiliar" class="form-label">Valor asignado</label>
                              <input type="number" class="form-control" id="valorAuxiliar" min="0" required>
                            </div>
                          </form>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                          <button type="button" class="btn btn-primary" id="guardarAuxiliar">Guardar</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-12">
                <div class="card">
                  <div class="card-header">
                    <h5>Display Headings</h5>
                  </div>
                  <div class="card-body pc-component">
                    <!-- Tabla Unificada de Rubros -->
                    <div class="mb-4">
                      <h5 class="mb-2">Rubros Presupuestales</h5>
                      <table class="table table-bordered table-striped align-middle" id="tablaRubros">
                        <thead class="table-light">
                          <tr>
                            <th>C√≥digo</th>
                            <th>Descripci√≥n</th>
                            <th>Valor</th>
                            <th>Tipo</th>
                          </tr>
                        </thead>
                        <tbody>
                          <!--
                          Ejemplo visual:
                          <tr class="table-primary fw-bold">
                            <td colspan="4">2111 - Servicios Generales (Total: $12,000)</td>
                          </tr>
                          <tr>
                            <td>2111-01</td>
                            <td>Limpieza</td>
                            <td>$5,000</td>
                            <td>Auxiliar</td>
                          </tr>
                          <tr>
                            <td>2111-02</td>
                            <td>Mantenimiento</td>
                            <td>$7,000</td>
                            <td>Auxiliar</td>
                          </tr>
                          <tr><td colspan="4" style="background:transparent;height:12px;border:none;"></td></tr>
                          -->
                          <!-- Aqu√≠ se insertar√°n los rubros principales y auxiliares din√°micamente -->
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- [ Typography ] end -->
          </div>
          <!-- [ Main Content ] end -->
        </div>
        <!-- Rubros Tab Pane end -->

        <!-- Modificaciones Tab Pane start -->
        <div class="tab-pane fade" id="modificaciones-tab-pane" role="tabpanel" aria-labelledby="modificaciones-tab" tabindex="0">
          <div class="row">
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h3>Adiciones y Disminuciones al Presupuesto</h3>
                  <p>Realiza adiciones (entrada de nueva plata) o disminuciones (reducci√≥n de presupuesto) sobre los rubros auxiliares existentes.</p>
                </div>
                <div class="card-body pc-component">
                  <form id="formAdicionDisminucion" class="row gy-2 gx-3 align-items-end mb-4">
                    <div class="col-md-3">
                      <label for="tipoModAD" class="form-label">Tipo de modificaci√≥n</label>
                      <select class="form-select" id="tipoModAD" required>
                        <option value="Adici√≥n">Adici√≥n</option>
                        <option value="Disminuci√≥n">Disminuci√≥n</option>
                      </select>
                    </div>
                    <div class="col-md-5">
                      <label for="busquedaRubroAux" class="form-label">Buscar Rubro Auxiliar</label>
                      <input type="text" class="form-control" id="busquedaRubroAux" placeholder="C√≥digo o descripci√≥n del rubro auxiliar">
                      <div class="list-group position-absolute w-100 shadow-sm z-3" id="listaBusquedaRubros" style="max-height:180px;overflow-y:auto;display:none;"></div>
                    </div>
                    <div class="col-md-2">
                      <label for="montoModAD" class="form-label">Monto</label>
                      <input type="number" class="form-control" id="montoModAD" min="1" required>
                    </div>
                    <div class="col-md-2">
                      <button type="submit" class="btn btn-primary w-100">Registrar</button>
                    </div>
                  </form>
                  <div class="table-responsive">
                    <table class="table table-bordered align-middle mb-0" id="tablaAdicionesDisminuciones">
                      <thead class="table-light">
                        <tr>
                          <th>Tipo</th>
                          <th>Rubro Auxiliar</th>
                          <th>Monto</th>
                          <th>Fecha</th>
                        </tr>
                      </thead>
                      <tbody>
                        <!-- Modificaciones AD se insertan aqu√≠ -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Modificaciones Tab Pane end -->

        <!-- Adiciones y Disminuciones Tab Pane start -->
        <div class="tab-pane fade" id="adiciones-disminuciones-tab-pane" role="tabpanel" aria-labelledby="adiciones-disminuciones-tab" tabindex="0">
          <div class="row">
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h3>Adiciones y Disminuciones</h3>
                </div>
                <div class="card-body">
                  <p>Aqu√≠ se mostrar√°n las adiciones y disminuciones del presupuesto.</p>
                  <!-- Puedes duplicar o a√±adir nueva estructura aqu√≠ -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Adiciones y Disminuciones Tab Pane end -->
      </div>
      <!-- Tabs Content end -->

    </div>
  </div>
  <!-- [ Main Content ] end -->
  <footer class="pc-footer">
    <div class="footer-wrapper container-fluid">
      <div class="row">
        <div class="col-sm my-1">
        
        </div>
        <div class="col-auto my-1">
          <ul class="list-inline footer-link mb-0">
            <li class="list-inline-item"><a href="../index.html">Home</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer> <!-- Required Js -->
<script src="../assets/js/plugins/popper.min.js"></script>
<script src="../assets/js/plugins/simplebar.min.js"></script>
<script src="../assets/js/plugins/bootstrap.min.js"></script>
<script src="../assets/js/fonts/custom-font.js"></script>
<script src="../assets/js/pcoded.js"></script>
<script src="../assets/js/plugins/feather.min.js"></script>
<script src="../../assets/js/menu-active.js"></script>
<script>
// Estructuras en memoria para rubros
let rubrosPrincipales = [
  {
    codigo: '2112',
    descripcion: 'SERVICIOS PERSONALES ASOCIADOS A LA NOMINA',
    valor: 2250000000,
    tipo: 'P. Gasto'
  },
  {
    codigo: '2113',
    descripcion: 'ADQUISICI√ìN DE SERVICIOS OPERACIONALES',
    valor: 12327010867,
    tipo: 'P. Gasto'
  }
];
let rubrosAuxiliares = [
  {codigo: '211201', descripcion: 'Remuneraci√≥n de servicios t√©cnicos', valor: 21750635, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211202', descripcion: 'Seguridad social salud', valor: 84799733, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211203', descripcion: 'Salud Social Pensi√≥n', valor: 84799733, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211204', descripcion: 'Administraci√≥n de Riesgos laborales', valor: 7066644, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211205', descripcion: 'Cesant√≠as Definitivas', valor: 71058807, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211206', descripcion: 'Caja de Compensaci√≥n familiar', valor: 28266527, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211207', descripcion: 'Honorarios y Consultor√≠a', valor: 800000000, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211208', descripcion: 'ICBF', valor: 21199933, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211209', descripcion: 'SENA', valor: 14133288, tipo: 'P. Gasto', codigoPrincipal: '2112'},
  {codigo: '211301', descripcion: 'Servicios de Software, infraestructura tecnol√≥gica', valor: 1925079918, tipo: 'P. Gasto', codigoPrincipal: '2113'},
  {codigo: '211302', descripcion: 'Servicios de Software, infraestructura tecnol√≥gica y conectividad para instrumentalizaci√≥n registro y conectividad instrumentalizaci√≥n veh√≠culos', valor: 4580698000, tipo: 'P. Gasto', codigoPrincipal: '2113'},
  {codigo: '211303', descripcion: 'Servicios de Software, infraestructura tecnol√≥gica y conectividad para instrumentalizaci√≥n cobro', valor: 3684558000, tipo: 'P. Gasto', codigoPrincipal: '2113'},
  {codigo: '211304', descripcion: 'Servicios de Software, infraestructura tecnol√≥gica y conectividad para instrumentalizaci√≥n sobretasa gasolina a motor', valor: 964000000, tipo: 'P. Gasto', codigoPrincipal: '2113'},
  {codigo: '211305', descripcion: 'Servicios de Software, infraestructura tecnol√≥gica y conectividad para instrumentalizaci√≥n impuesto al consumo', valor: 750000000, tipo: 'P. Gasto', codigoPrincipal: '2113'},
  {codigo: '211306', descripcion: 'Otros proyectos. Costos operativos por recuperaci√≥n de cartera y', valor: 422674949, tipo: 'P. Gasto', codigoPrincipal: '2113'},
];

function renderTablaRubros() {
  const tbody = document.querySelector('#tablaRubros tbody');
  tbody.innerHTML = '';
  // Ordenar principales y auxiliares por c√≥digo ascendente
  const principalesOrdenados = [...rubrosPrincipales].sort((a, b) => a.codigo.localeCompare(b.codigo));
  const auxiliaresOrdenados = [...rubrosAuxiliares].sort((a, b) => a.codigo.localeCompare(b.codigo));
  principalesOrdenados.forEach(principal => {
    // Calcular valor actualizado como suma de auxiliares
    const valorTotal = auxiliaresOrdenados.filter(aux => aux.codigo.startsWith(principal.codigo)).reduce((sum, aux) => sum + Number(aux.valor), 0) || principal.valor;
    // Fila de rubro principal
    const trPrincipal = document.createElement('tr');
    trPrincipal.className = 'table-primary fw-bold';
    trPrincipal.innerHTML = `<td colspan="4">${principal.codigo} - ${principal.descripcion} (Total: $${valorTotal.toLocaleString()}) <span class='badge bg-info ms-2'>${principal.tipo}</span></td>`;
    tbody.appendChild(trPrincipal);
    // Filas de auxiliares
    auxiliaresOrdenados.filter(aux => aux.codigo.startsWith(principal.codigo)).forEach(aux => {
      const trAux = document.createElement('tr');
      trAux.innerHTML = `<td>${aux.codigo}</td><td>${aux.descripcion}</td><td>$${Number(aux.valor).toLocaleString()}</td><td>${aux.tipo} (Auxiliar)</td>`;
      tbody.appendChild(trAux);
    });
    // Separador visual
    const trSep = document.createElement('tr');
    trSep.innerHTML = `<td colspan="4" style="background:transparent;height:12px;border:none;"></td>`;
    tbody.appendChild(trSep);
  });
}

document.getElementById('guardarPrincipal').onclick = function() {
  const codigo = document.getElementById('codigoPrincipal').value.trim();
  const descripcion = document.getElementById('descripcionPrincipal').value;
  const tipo = document.getElementById('tipoPrincipal').value;
  // Validaci√≥n: c√≥digo debe ser 4 d√≠gitos num√©ricos
  if(!/^\d{4}$/.test(codigo)) {
    mostrarAlertaExito('El c√≥digo debe ser un n√∫mero de 4 d√≠gitos');
    return;
  }
  // Valor calculado: suma de auxiliares
  const valor = rubrosAuxiliares.filter(aux => aux.codigo.startsWith(codigo)).reduce((sum, aux) => sum + Number(aux.valor), 0);
  // Buscar si ya existe
  const idx = rubrosPrincipales.findIndex(r => r.codigo === codigo);
  if(idx !== -1) {
    rubrosPrincipales[idx] = { codigo, descripcion, valor, tipo };
  } else {
    rubrosPrincipales.push({ codigo, descripcion, valor, tipo });
  }
  renderTablaRubros();
  document.getElementById('modalRubroPrincipal').querySelector('.btn-close').click();
  mostrarAlertaExito('Rubro Principal creado con √©xito');
};

document.getElementById('guardarAuxiliar').onclick = function() {
  const codigo = document.getElementById('codigoAuxiliar').value;
  const descripcion = document.getElementById('descripcionAuxiliar').value;
  const valor = document.getElementById('valorAuxiliar').value;
  const tipo = document.getElementById('tipoAuxiliar').value;
  // Determinar c√≥digo principal
  const codigoPrincipal = codigo.split('-')[0];
  // Agregar auxiliar
  rubrosAuxiliares.push({ codigo, descripcion, valor, tipo, codigoPrincipal });
  // Actualizar valor del principal
  const principal = rubrosPrincipales.find(r => r.codigo === codigoPrincipal);
  if(principal) {
    principal.valor = rubrosAuxiliares.filter(aux => aux.codigo.startsWith(codigoPrincipal)).reduce((sum, aux) => sum + Number(aux.valor), 0);
  }
  renderTablaRubros();
  document.getElementById('modalRubroAuxiliar').querySelector('.btn-close').click();
  mostrarAlertaExito('Rubro Auxiliar creado con √©xito');
};

function mostrarAlertaExito(mensaje) {
  const alertDiv = document.getElementById('alertRubroExito');
  const mensajeSpan = document.getElementById('mensajeRubroExito');
  mensajeSpan.textContent = mensaje;
  alertDiv.classList.remove('d-none');
  alertDiv.style.opacity = 1;
  setTimeout(() => {
    alertDiv.style.transition = 'opacity 0.6s';
    alertDiv.style.opacity = 0;
    setTimeout(() => {
      alertDiv.classList.add('d-none');
      alertDiv.style.opacity = 1;
      alertDiv.style.transition = '';
    }, 600);
  }, 2000);
}

// --- Adiciones y Disminuciones sobre rubros auxiliares ---
let adicionesDisminuciones = [];
let rubroAuxSeleccionado = null;

const busquedaInput = document.getElementById('busquedaRubroAux');
const listaBusqueda = document.getElementById('listaBusquedaRubros');

busquedaInput.addEventListener('input', function() {
  const query = this.value.trim().toLowerCase();
  listaBusqueda.innerHTML = '';
  if (!query) {
    listaBusqueda.style.display = 'none';
    rubroAuxSeleccionado = null;
    return;
  }
  const resultados = rubrosAuxiliares.filter(rubro =>
    rubro.codigo.toLowerCase().includes(query) ||
    rubro.descripcion.toLowerCase().includes(query)
  );
  if (resultados.length === 0) {
    listaBusqueda.style.display = 'none';
    rubroAuxSeleccionado = null;
    return;
  }
  resultados.forEach(rubro => {
    const item = document.createElement('button');
    item.type = 'button';
    item.className = 'list-group-item list-group-item-action';
    item.textContent = `${rubro.codigo} - ${rubro.descripcion}`;
    item.onclick = () => {
      busquedaInput.value = `${rubro.codigo} - ${rubro.descripcion}`;
      rubroAuxSeleccionado = rubro;
      listaBusqueda.style.display = 'none';
    };
    listaBusqueda.appendChild(item);
  });
  listaBusqueda.style.display = 'block';
});

// Cierra la lista si se hace click fuera
busquedaInput.addEventListener('blur', function() {
  setTimeout(() => { listaBusqueda.style.display = 'none'; }, 200);
});

// Registrar adici√≥n/disminuci√≥n
const formAD = document.getElementById('formAdicionDisminucion');
formAD.onsubmit = function(e) {
  e.preventDefault();
  const tipo = document.getElementById('tipoModAD').value;
  const monto = Number(document.getElementById('montoModAD').value);
  if (!rubroAuxSeleccionado) {
    alert('Seleccione un rubro auxiliar v√°lido.');
    return;
  }
  if (!monto || monto <= 0) {
    alert('Ingrese un monto mayor a cero.');
    return;
  }
  // Modificar el valor del rubro auxiliar
  const idx = rubrosAuxiliares.findIndex(r => r.codigo === rubroAuxSeleccionado.codigo);
  if (idx !== -1) {
    if (tipo === 'Adici√≥n') {
      rubrosAuxiliares[idx].valor = Number(rubrosAuxiliares[idx].valor) + monto;
    } else if (tipo === 'Disminuci√≥n') {
      rubrosAuxiliares[idx].valor = Math.max(0, Number(rubrosAuxiliares[idx].valor) - monto);
    }
    // Tambi√©n actualizar el objeto seleccionado para reflejar el nuevo valor
    rubroAuxSeleccionado.valor = rubrosAuxiliares[idx].valor;
  }
  adicionesDisminuciones.push({
    tipo,
    rubro: { ...rubroAuxSeleccionado },
    monto,
    fecha: new Date().toLocaleString()
  });
  renderTablaAdicionesDisminuciones();
  renderTablaRubros(); // <-- Actualiza la tabla principal de rubros
  formAD.reset();
  rubroAuxSeleccionado = null;
};

function renderTablaAdicionesDisminuciones() {
  const tbody = document.querySelector('#tablaAdicionesDisminuciones tbody');
  tbody.innerHTML = '';
  adicionesDisminuciones.forEach(mod => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${mod.tipo}</td>
      <td>${mod.rubro.codigo} - ${mod.rubro.descripcion}</td>
      <td>$${Number(mod.monto).toLocaleString()}</td>
      <td>${mod.fecha}</td>
    `;
    tbody.appendChild(tr);
  });
}

// Render inicial con los valores de ejemplo
renderTablaRubros();
</script>
</body>
<!-- [Body] end -->

</html>