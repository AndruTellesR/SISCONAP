<!DOCTYPE html>
<html lang="en">
<!-- [Head] start -->

<head>
  @@include('../layouts/head-page-meta.html', {'title': 'Typography'}) @@include('../layouts/head-css.html')
</head>
<!-- [Head] end -->
<!-- [Body] Start -->

<body @@bodySetup>
  @@include('../layouts/layout-vertical.html')

  <!-- [ Main Content ] start -->
  <div class="pc-container">
    <div class="pc-content">
      @@include('../layouts/breadcrumb.html', {'breadcrumb-item': 'UI Components', 'breadcrumb-item-active': 'Typography'})

      <!-- Tabs Nav start -->
      <ul class="nav nav-tabs mb-3" id="presupuestoTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="presupuesto-tab" data-bs-toggle="tab" data-bs-target="#presupuesto-tab-pane" type="button" role="tab" aria-controls="presupuesto-tab-pane" aria-selected="true">Presupuesto</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="rubros-tab" data-bs-toggle="tab" data-bs-target="#rubros-tab-pane" type="button" role="tab" aria-controls="rubros-tab-pane" aria-selected="false">Rubros</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="adiciones-disminuciones-tab" data-bs-toggle="tab" data-bs-target="#adiciones-disminuciones-tab-pane" type="button" role="tab" aria-controls="adiciones-disminuciones-tab-pane" aria-selected="false">Adiciones y Disminuciones</button>
        </li>
      </ul>
      <!-- Tabs Nav end -->

      <!-- Tabs Content start -->
      <div class="tab-content" id="presupuestoTabsContent">
        <!-- Presupuesto Tab Pane start -->
        <div class="tab-pane fade show active" id="presupuesto-tab-pane" role="tabpanel" aria-labelledby="presupuesto-tab" tabindex="0">
          <div class="row">
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h3>Presupuesto</h3>
                </div>
                <div class="card-body">
                  <p>Aquí irá el contenido específico para la pestaña Presupuesto.</p>
                  <!-- Contenido placeholder para Presupuesto -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Presupuesto Tab Pane end -->

        <!-- Rubros Tab Pane start -->
        <div class="tab-pane fade" id="rubros-tab-pane" role="tabpanel" aria-labelledby="rubros-tab" tabindex="0">
          <!-- [ Main Content ] start -->
          <div class="row">
            <!-- [ Typography ] start -->
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h3>Rubro</h3>
                  <p><span class="badges"></span> Aqui se podria agregar alguna descripcion para el rubro de ser necesaria</p>
                </div>
                <div class="card-body pc-component">
                </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h5>Display Headings</h5>
                </div>
                <div class="card-body pc-component">
                </div>
              </div>
            </div>
            <!-- [ Typography ] end -->
          </div>
          <!-- [ Main Content ] end -->
        </div>
        <!-- Rubros Tab Pane end -->

        <!-- Adiciones y Disminuciones Tab Pane start -->
        <div class="tab-pane fade" id="adiciones-disminuciones-tab-pane" role="tabpanel" aria-labelledby="adiciones-disminuciones-tab" tabindex="0">
          <div class="row">
            <div class="col-sm-12">
              <div class="card">
                <div class="card-header">
                  <h3>Adiciones y Disminuciones</h3>
                </div>
                <div class="card-body">
                  <p>Aquí se mostrarán las adiciones y disminuciones del presupuesto.</p>
                  <!-- Puedes duplicar o añadir nueva estructura aquí -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Adiciones y Disminuciones Tab Pane end -->
      </div>
      <!-- Tabs Content end -->

    </div>
  </div>
  <!-- [ Main Content ] end -->
  @@include('../layouts/footer-block.html') @@include('../layouts/footer-js.html')

<script>
document.addEventListener('DOMContentLoaded', function () {
    // --- Lógica para el Modal de Rubro Principal ---
    const modalPrincipal = document.getElementById('modalRubroPrincipal');
    if (modalPrincipal) {
        const codigoPrincipalInput = document.getElementById('codigoPrincipal');
        const descripcionPrincipalInput = document.getElementById('descripcionPrincipal');
        const tipoPrincipalSelect = document.getElementById('tipoPrincipal');
        const principalStorageKey = 'formRubroPrincipalData';

        modalPrincipal.addEventListener('hidden.bs.modal', function () {
            const data = {
                codigo: codigoPrincipalInput ? codigoPrincipalInput.value : '',
                descripcion: descripcionPrincipalInput ? descripcionPrincipalInput.value : '',
                tipo: tipoPrincipalSelect ? tipoPrincipalSelect.value : ''
            };
            sessionStorage.setItem(principalStorageKey, JSON.stringify(data));
        });

        modalPrincipal.addEventListener('show.bs.modal', function () {
            const savedData = sessionStorage.getItem(principalStorageKey);
            if (savedData) {
                const data = JSON.parse(savedData);
                if (codigoPrincipalInput) codigoPrincipalInput.value = data.codigo || '';
                if (descripcionPrincipalInput) descripcionPrincipalInput.value = data.descripcion || '';
                if (tipoPrincipalSelect) tipoPrincipalSelect.value = data.tipo || '';
            }
        });
    }

    // --- Lógica para el Modal de Rubro Auxiliar ---
    const modalAuxiliar = document.getElementById('modalRubroAuxiliar');
    if (modalAuxiliar) {
        // Asegúrate de que estos IDs coincidan con los de tu formulario de Rubro Auxiliar
        const codigoAuxiliarInput = document.getElementById('codigoAuxiliar'); 
        const descripcionAuxiliarInput = document.getElementById('descripcionAuxiliar');
        const tipoAuxiliarSelect = document.getElementById('tipoAuxiliar');
        const rubroPrincipalAsociadoSelect = document.getElementById('rubroPrincipalAsociado'); // Si tienes un selector para el rubro principal
        const auxiliarStorageKey = 'formRubroAuxiliarData';

        modalAuxiliar.addEventListener('hidden.bs.modal', function () {
            const data = {
                codigo: codigoAuxiliarInput ? codigoAuxiliarInput.value : '',
                descripcion: descripcionAuxiliarInput ? descripcionAuxiliarInput.value : '',
                tipo: tipoAuxiliarSelect ? tipoAuxiliarSelect.value : '',
                rubroPrincipal: rubroPrincipalAsociadoSelect ? rubroPrincipalAsociadoSelect.value : ''
            };
            sessionStorage.setItem(auxiliarStorageKey, JSON.stringify(data));
        });

        modalAuxiliar.addEventListener('show.bs.modal', function () {
            const savedData = sessionStorage.getItem(auxiliarStorageKey);
            if (savedData) {
                const data = JSON.parse(savedData);
                if (codigoAuxiliarInput) codigoAuxiliarInput.value = data.codigo || '';
                if (descripcionAuxiliarInput) descripcionAuxiliarInput.value = data.descripcion || '';
                if (tipoAuxiliarSelect) tipoAuxiliarSelect.value = data.tipo || '';
                if (rubroPrincipalAsociadoSelect) rubroPrincipalAsociadoSelect.value = data.rubroPrincipal || '';
            }
        });
    }
});
</script>

</body>
<!-- [Body] end -->

</html>